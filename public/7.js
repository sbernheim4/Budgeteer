(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{372:function(e,t,n){"use strict";function a(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function o(e){return(Math.round(100*e)/100).toFixed(2)}function c(e){return""===e||null===e?"":e.toLowerCase().split(" ").map(function(e){return e.replace(e[0],e[0].toUpperCase())}).join(" ")}function r(e){return!isNaN(parseFloat(e))&&!isNaN(e-0)}function s(e){return new Map(JSON.parse(e))}n.d(t,"d",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return s})},466:function(e,t,n){var a=n(467);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(54)(a,o);a.locals&&(e.exports=a.locals)},467:function(e,t,n){(e.exports=n(53)(!1)).push([e.i,".transaction {\n  margin: 5px;\n  width: 80%;\n  background-color: #eae3d7;\n  cursor: pointer;\n  transition: background-color .5s ease; }\n  .transaction:hover {\n    background-color: #dbd1bd; }\n  @media all and (max-width: 600px) {\n    .transaction {\n      margin: 0;\n      width: 100%;\n      border-bottom: 1px solid gray; } }\n  @media all and (min-width: 1200px) {\n    .transaction {\n      margin: 5px;\n      max-width: 700px;\n      width: 45%;\n      border-bottom: none; } }\n  .transaction--map iframe {\n    margin: 0 auto;\n    width: 100%;\n    height: 300px;\n    transition: height .3s ease-in;\n    display: flex;\n    justify-content: center; }\n  .transaction .container {\n    padding: 15px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    pointer-events: none; }\n    .transaction .container .icon {\n      margin: 10px 10px 10px 10px;\n      font-size: 1.5em; }\n      @media all and (max-width: 400px) {\n        .transaction .container .icon {\n          font-size: 1em; } }\n      .transaction .container .icon path {\n        color: #253847; }\n    .transaction .container .name-info {\n      margin-left: 10px;\n      width: 50%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-start; }\n      .transaction .container .name-info--name {\n        width: 100%;\n        font-size: 22px;\n        color: black;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden; }\n      .transaction .container .name-info--category {\n        width: 100%;\n        font-size: 17px;\n        color: black;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden; }\n        .transaction .container .name-info--category span {\n          color: #f98183; }\n    .transaction .container .amount {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-end; }\n      .transaction .container .amount--amt {\n        width: 100%;\n        color: #9f0404; }\n        .transaction .container .amount--amt__green {\n          width: 100%;\n          color: #116600; }\n      .transaction .container .amount--date {\n        color: black;\n        align-self: flex-end; }\n        @media all and (max-width: 365px) {\n          .transaction .container .amount--date {\n            font-size: .8em; } }\n  .transaction * {\n    overflow-y: hidden; }\n",""])},468:function(e,t,n){var a=n(469);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(54)(a,o);a.locals&&(e.exports=a.locals)},469:function(e,t,n){(e.exports=n(53)(!1)).push([e.i,".transaction-container {\n  margin: 40px auto;\n  border-top: 3px solid black;\n  background: #304e60; }\n  .transaction-container h1 {\n    margin-top: 15px;\n    display: flex;\n    justify-content: center; }\n  .transaction-container .transaction--totals {\n    padding: 20px 5px 0 5px;\n    text-align: center;\n    font-size: 1.4em; }\n    @media all and (min-width: 1000px) {\n      .transaction-container .transaction--totals {\n        font-size: 2em; } }\n  .transaction-container .transactions {\n    margin: 15px 0 30px 0;\n    border-radius: 5px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center; }\n    @media all and (min-width: 1200px) {\n      .transaction-container .transactions {\n        margin: 15px auto;\n        max-width: 1560px;\n        flex-direction: row;\n        align-items: flex-start;\n        flex-wrap: wrap; } }\n    .transaction-container .transactions button {\n      margin: 30px;\n      width: 150px;\n      height: 45px;\n      background-color: #46926b;\n      border: 1px solid black;\n      border-radius: 5px;\n      color: black;\n      cursor: pointer; }\n",""])},491:function(e,t,n){"use strict";var a=n(1),o=n.n(a),c=n(311),r=n(412),s=n(67),i=n.n(s),l=n(372);n(466);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n,a,o,c,r){try{var s=e[c](r),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,o)}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(e){function t(e){var n,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(o=m(t).call(this,e))||"object"!==u(o)&&"function"!=typeof o?d(a):o).state={months:["Jan","Feb","Mar","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],displayNames:new Map},n.showMap=n.showMap.bind(d(d(n))),n.getAccountNameFromID=n.getAccountNameFromID.bind(d(d(n))),n}var n,s,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,a["Component"]),n=t,(s=[{key:"componentDidMount",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("/user-info/display-names");case 3:t=(t=e.sent).data,n=Object(l.c)(t),this.setState({displayNames:n}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("ERROR"),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,9]])}),function(){var t=this,n=arguments;return new Promise(function(a,o){var c=e.apply(t,n);function r(e){p(c,a,o,r,s,"next",e)}function s(e){p(c,a,o,r,s,"throw",e)}r(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"formatDate",value:function(e){var t=parseInt(e.slice(e.indexOf("-")+1,e.indexOf("-")+3)),n=e.slice(e.length-3,e.length-1),a=e.slice(1,5);return this.state.months[t-1]+" "+n+" '"+a.slice(2)}},{key:"showMap",value:function(e){e.persist();var t=document.createElement("iframe");null!==this.props.transaction.location.lat&&null!==this.props.transaction.location.lon?t.src="https://maps.google.com/maps?q=".concat(this.props.transaction.location.lat,",").concat(this.props.transaction.location.lon,"&z=15&output=embed"):t.src="https://maps.google.com/maps?q=40.7828647,-73.9653551&z=15&output=embed",!!e.target.querySelector("iframe")?(e.target.classList.remove("transaction--map"),setTimeout(function(){e.target.removeChild(e.target.children[1])},300)):(document.querySelectorAll(".transaction--map").forEach(function(e){e.classList.remove("transaction--map"),setTimeout(function(){e.removeChild(e.children[1])},300)}),e.target.appendChild(t),e.target.classList.toggle("transaction--map"))}},{key:"getAccountDisplayName",value:function(e,t){var n=this.state.displayNames;return void 0===n?t:n.get(e)||t}},{key:"getAccountNameFromID",value:function(e){var t,n=this.state.displayNames,a=!0,o=!1,c=void 0;try{for(var r,s=this.props.accounts[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var i=r.value;i.account_id===e&&(t=i.name)}}catch(e){o=!0,c=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw c}}return n.get(e)||t}},{key:"getCategoryIcon",value:function(e){var t;switch(e){case"Food and Drink":t=r.r;break;case"Travel":t=r.j;break;case"Shops":t=r.m;break;case"Recreation":t=r.o;break;case"Service":t=r.s;break;case"Community":t=r.q;break;case"Healthcare":t=r.g;break;case"Interest":t=r.i;break;case"Payment":t=r.h;break;case"Transfer":t=r.e;break;default:t=r.l}return t}},{key:"render",value:function(){var e=this.formatDate(JSON.stringify(this.props.transaction.date)),t=(Object(l.a)(this.props.transaction.amount),null!==this.props.transaction.category&&void 0!==this.props.transaction.category?this.props.transaction.category[0]:t="Null"),n=Object(l.a)(-1*this.props.transaction.amount);n="$"+Object(l.d)(n);var a=this.props.transaction.amount>0?"amount--amt":"amount--amt__green",r=Object(l.e)(this.props.transaction.name);return o.a.createElement("div",{className:"transaction",onClick:this.showMap},o.a.createElement("div",{className:"container"},o.a.createElement(c.a,{className:"icon",icon:this.getCategoryIcon(t)}),o.a.createElement("div",{className:"name-info"},o.a.createElement("p",{className:"name-info--name"},r),o.a.createElement("p",{className:"name-info--category"},this.getAccountNameFromID(this.props.transaction.account_id)," ",o.a.createElement("span",null,!0===this.props.transaction.pending?"- Pending":""))),o.a.createElement("div",{className:"amount"},o.a.createElement("p",{className:a},n),o.a.createElement("p",{className:"amount--date"},e))))}}])&&h(n.prototype,s),y&&h(n,y),t}();n(468);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var k=function(e){function t(e){var n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this;var c=(n=!(o=b(t).call(this,e))||"object"!==g(o)&&"function"!=typeof o?x(a):o).props.transactions.slice(-10).reverse();return n.state={num:10,transactionsToDisplay:c},n.showMoreItems=n.showMoreItems.bind(x(x(n))),n}var n,c,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,a["Component"]),n=t,(c=[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",function(){e.state.transactionsToDisplay.length!==e.props.transactions.length&&((document.documentElement.scrollTop+document.body.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100>.75&&e.showMoreItems())})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",function(){})}},{key:"componentWillReceiveProps",value:function(e){this.setState({transactionsToDisplay:e.transactions.slice(-10).reverse(),num:10})}},{key:"showMoreItems",value:function(){if(this.state.num+20>this.props.transactions.length)this.setState({transactionsToDisplay:this.props.transactions.reverse(),num:this.props.transactions.length});else{var e=this.props.transactions.slice(-(this.state.num+20)).reverse();this.setState({transactionsToDisplay:e,num:this.state.num+20})}}},{key:"render",value:function(){var e=this,t=-1*this.props.categoryTotal>0?"green":"red",n=this.props.categoryType?o.a.createElement("h2",{className:"transaction--totals"},this.props.categoryType,": ",o.a.createElement("span",{className:t},"$",Object(l.d)(-1*this.props.categoryTotal))):"";return o.a.createElement("section",{className:"transaction-container"},o.a.createElement("h1",null,"Past Transactions"),n,o.a.createElement("div",{className:"transactions"},this.state.transactionsToDisplay.map(function(t,n){return o.a.createElement(y,{key:n,accounts:e.props.accounts,transaction:t})})))}}])&&v(n.prototype,c),r&&v(n,r),t}();t.a=k},849:function(e,t,n){var a=n(850);e.exports=function(e,t){var n=Number(t);return a(e,-n)}},850:function(e,t,n){var a=n(851);e.exports=function(e,t){var n=Number(t);return a(e,7*n)}},851:function(e,t,n){var a=n(100);e.exports=function(e,t){var n=a(e),o=Number(t);return n.setDate(n.getDate()+o),n}},852:function(e,t,n){var a=n(100);e.exports=function(e,t){var n=a(e),o=a(t);return n.getTime()>o.getTime()}},853:function(e,t,n){var a=n(854);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(54)(a,o);a.locals&&(e.exports=a.locals)},854:function(e,t,n){(e.exports=n(53)(!1)).push([e.i,".green {\n  color: #46926b; }\n\n.red {\n  color: #f98183; }\n\n.total-spent {\n  margin-bottom: 30px;\n  text-align: center; }\n\n.week-spending-chart {\n  margin: 0 auto;\n  max-width: 900px !important; }\n  .week-spending-chart--custom-tooltip {\n    margin-right: 30px;\n    padding: 15px;\n    background: black;\n    border-radius: 5px; }\n",""])},855:function(e,t,n){var a=n(856);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(54)(a,o);a.locals&&(e.exports=a.locals)},856:function(e,t,n){(e.exports=n(53)(!1)).push([e.i,'@charset "UTF-8";\n.accounts--search-options--icon-search--categorical-search--categories div, .accounts--search-options--icon-search--accts-search--accts div {\n  -webkit-transform: translateY(-50px);\n          transform: translateY(-50px);\n  visibility: hidden;\n  opacity: 0;\n  position: absolute;\n  padding: 20px;\n  background-color: black;\n  border-radius: 10px;\n  transition: all 0.3s ease-out; }\n\n.accounts--search-options--icon-search--categorical-search--categories:before, .accounts--search-options--icon-search--accts-search--accts:before {\n  -webkit-transform: translateY(-50px);\n          transform: translateY(-50px);\n  opacity: 0;\n  content: "";\n  position: absolute;\n  margin-top: 20px;\n  width: 0;\n  height: 0;\n  border-bottom: 50px solid rgba(0, 0, 0, 0.6);\n  border-left: 25px solid transparent;\n  border-right: 25px solid transparent;\n  transition: opacity .3s ease-out, -webkit-transform .3s ease-out;\n  transition: transform .3s ease-out, opacity .3s ease-out;\n  transition: transform .3s ease-out, opacity .3s ease-out, -webkit-transform .3s ease-out; }\n\n.accounts {\n  position: relative; }\n  @media all and (min-width: 801px) {\n    .accounts {\n      margin-top: 0; } }\n  .accounts .red {\n    text-align: center;\n    color: #f98183; }\n  .accounts .green {\n    text-align: center;\n    color: #46926b; }\n  .accounts--search-options {\n    margin: 0 20px 20px 20px;\n    display: flex;\n    justify-content: space-around;\n    align-items: center; }\n    @media all and (max-width: 600px) {\n      .accounts--search-options {\n        flex-direction: column; } }\n    .accounts--search-options--icon-search {\n      max-width: 300px;\n      width: 30%;\n      display: flex;\n      justify-content: space-around;\n      align-items: center; }\n      @media all and (max-width: 600px) {\n        .accounts--search-options--icon-search {\n          margin-top: 15px;\n          width: 80%; } }\n      .accounts--search-options--icon-search--categorical-search {\n        display: flex;\n        flex-direction: column;\n        align-items: center; }\n        .accounts--search-options--icon-search--categorical-search .icon {\n          font-size: 30px;\n          cursor: pointer;\n          z-index: 1; }\n          .accounts--search-options--icon-search--categorical-search .icon path {\n            transition: color .1s ease-in; }\n            .accounts--search-options--icon-search--categorical-search .icon path:hover {\n              color: #ff8484; }\n        .accounts--search-options--icon-search--categorical-search--categories {\n          display: flex;\n          justify-content: center; }\n          .accounts--search-options--icon-search--categorical-search--categories div {\n            width: 260px;\n            height: 250px;\n            overflow-y: scroll;\n            display: flex;\n            justify-content: flex-start;\n            flex-wrap: wrap;\n            z-index: 1; }\n            .accounts--search-options--icon-search--categorical-search--categories div section {\n              margin: 10px;\n              width: calc(33% - 20px);\n              display: flex;\n              flex-direction: column;\n              align-items: center; }\n              .accounts--search-options--icon-search--categorical-search--categories div section .category-icon {\n                margin-bottom: 5px;\n                font-size: 40px; }\n                .accounts--search-options--icon-search--categorical-search--categories div section .category-icon path {\n                  transition: color .1s ease-in; }\n                  .accounts--search-options--icon-search--categorical-search--categories div section .category-icon path:hover {\n                    color: #f98183; }\n              .accounts--search-options--icon-search--categorical-search--categories div section p {\n                font-size: 12px;\n                text-align: center; }\n        .accounts--search-options--icon-search--categorical-search--categories__active {\n          display: flex;\n          justify-content: center; }\n          .accounts--search-options--icon-search--categorical-search--categories__active:before {\n            -webkit-transform: translateY(0px);\n                    transform: translateY(0px);\n            opacity: 1; }\n          .accounts--search-options--icon-search--categorical-search--categories__active div {\n            margin-top: 60px;\n            -webkit-transform: translateY(0);\n                    transform: translateY(0);\n            visibility: visible;\n            opacity: 1;\n            transition: all 0.3s ease-out; }\n            @media all and (max-width: 525px) {\n              .accounts--search-options--icon-search--categorical-search--categories__active div {\n                margin-left: 50px; } }\n            .accounts--search-options--icon-search--categorical-search--categories__active div .category-icon {\n              cursor: pointer; }\n              .accounts--search-options--icon-search--categorical-search--categories__active div .category-icon:hover {\n                color: #f98183; }\n              .accounts--search-options--icon-search--categorical-search--categories__active div .category-icon path {\n                color: inherit; }\n            .accounts--search-options--icon-search--categorical-search--categories__active div button {\n              width: 0;\n              height: 0; }\n      .accounts--search-options--icon-search--date-search .icon {\n        font-size: 35px;\n        cursor: pointer; }\n        .accounts--search-options--icon-search--date-search .icon path {\n          transition: color .2s ease-in; }\n          .accounts--search-options--icon-search--date-search .icon path:hover {\n            color: #ff8484; }\n      .accounts--search-options--icon-search--accts-search {\n        display: flex;\n        flex-direction: column;\n        align-items: center; }\n        .accounts--search-options--icon-search--accts-search .icon {\n          font-size: 40px;\n          cursor: pointer;\n          z-index: 1; }\n          .accounts--search-options--icon-search--accts-search .icon path {\n            transition: color .1s ease-in; }\n            .accounts--search-options--icon-search--accts-search .icon path:hover {\n              color: #ff8484; }\n        .accounts--search-options--icon-search--accts-search--accts {\n          display: flex;\n          justify-content: center; }\n          .accounts--search-options--icon-search--accts-search--accts div {\n            width: 180px;\n            max-height: 300px;\n            padding: 20px;\n            justify-content: flex-start;\n            z-index: 1;\n            overflow-y: scroll; }\n            .accounts--search-options--icon-search--accts-search--accts div::-webkit-scrollbar {\n              width: 7px;\n              background-color: rgba(100, 100, 100, 0.7);\n              outline: 1px solid slategrey;\n              -webkit-appearance: none; }\n            .accounts--search-options--icon-search--accts-search--accts div::-webkit-scrollbar-thumb {\n              background-color: rgba(100, 100, 100, 0.7);\n              border-radius: 4px;\n              outline: 1px solid slategrey;\n              -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, 0.5); }\n            .accounts--search-options--icon-search--accts-search--accts div button {\n              margin: 15px 0;\n              width: 100%;\n              background-color: black;\n              border-radius: 5px;\n              text-align: left;\n              font-size: 1em;\n              color: white;\n              cursor: pointer; }\n              .accounts--search-options--icon-search--accts-search--accts div button:before {\n                content: "▪ ";\n                white-space: pre; }\n        .accounts--search-options--icon-search--accts-search--accts__active {\n          display: flex;\n          justify-content: center; }\n          .accounts--search-options--icon-search--accts-search--accts__active:before {\n            -webkit-transform: translateY(0px);\n                    transform: translateY(0px);\n            opacity: 1; }\n          .accounts--search-options--icon-search--accts-search--accts__active div {\n            margin-top: 60px;\n            -webkit-transform: translateY(0) translateX(-23%);\n                    transform: translateY(0) translateX(-23%);\n            visibility: visible;\n            opacity: 1;\n            transition: all 0.3s ease-out; }\n    .accounts--search-options--keyword-search {\n      width: 90%;\n      font-size: 15px; }\n      @media all and (max-width: 600px) {\n        .accounts--search-options--keyword-search {\n          margin-top: 15px;\n          width: 100%; } }\n      .accounts--search-options--keyword-search .icon {\n        padding: 15px;\n        font-size: 30px; }\n      .accounts--search-options--keyword-search form {\n        width: 100%;\n        display: flex;\n        justify-content: center; }\n        .accounts--search-options--keyword-search form input {\n          display: block;\n          margin: 0 auto;\n          width: 85%;\n          height: 61px;\n          padding: 0 15px;\n          background-color: #253847;\n          border: 1px solid white;\n          border-radius: 6px;\n          font-size: 20px;\n          color: white;\n          transition: all .2s ease-in; }\n          .accounts--search-options--keyword-search form input:focus {\n            border: 1px solid #ff8484; }\n    .accounts--search-options--date-picker {\n      display: flex;\n      flex-direction: row;\n      justify-content: center; }\n      .accounts--search-options--date-picker input {\n        width: 100px;\n        height: 30px;\n        background-color: grey;\n        color: white;\n        align-self: center; }\n      .accounts--search-options--date-picker div {\n        margin: 10px;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: flex-end; }\n        .accounts--search-options--date-picker div p {\n          margin-bottom: 5px; }\n        .accounts--search-options--date-picker div label input {\n          margin-left: 10px;\n          width: 100px;\n          border: 1px solid black;\n          color: black; }\n  .accounts--chart {\n    margin: 0 10px;\n    max-width: 900px; }\n    @media all and (min-width: 600px) {\n      .accounts--chart {\n        margin: 0 auto;\n        display: flex;\n        justify-content: center;\n        align-items: flex-end; } }\n    @media all and (min-width: 600px) and (max-width: 700px) {\n      .accounts--chart {\n        width: 80vw; } }\n    @media all and (min-width: 700px) {\n      .accounts--chart {\n        width: 65vw; } }\n  .accounts--sort-options {\n    text-align: center; }\n',""])},869:function(e,t,n){"use strict";n.r(t);var a=n(67),o=n.n(a),c=(n(101),n(1)),r=n.n(c),s=n(861),i=n(867),l=n(864),u=n(541),p=n(542),h=n(858),m=n(540),f=n(849),d=n.n(f),y=(n(852),n(471)),g=n.n(y),v=n(307),b=n.n(v),w=n(372);n(853);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,o=!1,c=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,c=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}function _(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(){return E(this,t),_(this,N(t).apply(this,arguments))}return O(t,c["Component"]),C(t,[{key:"render",value:function(){if(this.props.active){var e=this.props,t=e.payload,n=e.label;if(null!==t){var a="string"==typeof n?n:n+" day(s) ago",o=Object(w.d)(Object(w.a)(t[0].value));return r.a.createElement("div",{className:"week-spending-chart--custom-tooltip"},r.a.createElement("p",null,a),r.a.createElement("p",null,"$",o))}return null}return null}}]),t}(),D=function(e){function t(e){var n;return E(this,t),(n=_(this,N(t).call(this,e))).state={weekData:[],totalSpent:"..."},n}return O(t,c["Component"]),C(t,[{key:"render",value:function(){var e=Object(w.b)(this.state.totalSpent)?this.state.totalSpent.toFixed(2):"Loading...",t=e<=0&&Object(w.b)(e)?"red":"green";return r.a.createElement("div",null,r.a.createElement("h1",{className:"total-spent"},"This Week's Bottom Line: ",r.a.createElement("span",{className:t},"$",e)),r.a.createElement(s.a,{className:"week-spending-chart",width:"90%",height:200},r.a.createElement(i.a,{data:this.state.weekData},r.a.createElement(l.a,{vertical:!1,horizontal:!0}),r.a.createElement(u.a,{dataKey:"name",tick:{stroke:"white"}}),r.a.createElement(p.a,{tick:{stroke:"white"}}),r.a.createElement(h.a,{content:r.a.createElement(j,null)}),r.a.createElement(m.a,{barSize:8,dataKey:"value",stackId:"a",fill:"rgb(78,  153, 114)"}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.transactions.length>0){var n=new Date,a=d()(n,1),o=0,c=!0,r=!1,s=void 0;try{for(var i,l=e.transactions.entries()[Symbol.iterator]();!(c=(i=l.next()).done);c=!0){var u=x(i.value,2),p=u[0],h=u[1],m=new Date(h.date.slice(0,4),h.date.slice(5,7)-1,h.date.slice(8,10));if(g()(m,a,n)){o=p;break}p===e.transactions.length-1&&(o=0)}}catch(e){r=!0,s=e}finally{try{c||null==l.return||l.return()}finally{if(r)throw s}}var f=new Array(7).fill(0);if(0!==o)e.transactions.slice(o).forEach(function(e){var t=new Date(e.date.slice(0,4),e.date.slice(5,7)-1,e.date.slice(8,10)),a=b()(n,t);f[a]+=e.amount}),f.reverse();for(var y=["Mon.","Tues.","Wed.","Thurs.","Fri.","Sat.","Sun."],v=[],w=(new Date).getDay(),k=0,E=0;E<7;E++)v.push({name:6===E?"Today":y[(w+E)%7],value:-1*f[E]}),k+=f[E];return{weekData:v,totalSpent:-1*k}}return null}}]),t}(),A=n(491),P=(n(855),n(311)),M=n(412);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,n,a,o,c,r){try{var s=e[c](r),i=s.value}catch(e){return void n(e)}s.done?t(i):Promise.resolve(i).then(a,o)}function R(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var c=e.apply(t,n);function r(e){V(c,a,o,r,s,"next",e)}function s(e){V(c,a,o,r,s,"throw",e)}r(void 0)})}}function F(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var q=function(e){function t(e){var n,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(o=I(t).call(this,e))||"object"!==z(o)&&"function"!=typeof o?Y(a):o).state={categoryTransactions:[],categoryType:"",categoryTotal:0,keyWord:"",months:["Jan.","Feb.","Mar.","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]},n.getAccountTransactions=n.getAccountTransactions.bind(Y(Y(n))),n.getCategoryTransactions=n.getCategoryTransactions.bind(Y(Y(n))),n.getDate=n.getDate.bind(Y(Y(n))),n.searchByDate=n.searchByDate.bind(Y(Y(n))),n.searchByKeyword=n.searchByKeyword.bind(Y(Y(n))),n.getKeyword=n.getKeyword.bind(Y(Y(n))),n.getAccountDisplayName=n.getAccountDisplayName.bind(Y(Y(n))),n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,c["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=R(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.getAccountTransactions("all"),e.prev=1,e.next=4,o.a.get("/user-info/display-names");case 4:t=(t=e.sent).data,n=Object(w.c)(t),this.setState({displayNames:n}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("ERROR"),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){this.getAccountTransactions("all")}},{key:"getAccountTransactions",value:function(e){var t,n=[],a=0;"all"===e?(n=this.props.transactions,t="All Categories"):n=this.props.transactions.filter(function(t){return t.account_id===e}),n.forEach(function(e){a+=e.amount}),a=Object(w.a)(a),void 0===t&&this.props.accounts.forEach(function(n){n.account_id!==e||(t=n.name)}),n.sort(function(e,t){return new Date(e.date.slice(0,4),e.date.slice(5,7)-1,e.date.slice(8,10))-new Date(t.date.slice(0,4),t.date.slice(5,7)-1,t.date.slice(8,10))});var o=new Date,c=this.state.months[o.getMonth()]+"  "+o.getDate()+".  "+o.getFullYear(),r=this.state.months[o.getMonth()]+"  "+o.getDate()+".  "+(o.getFullYear()-1),s="All Categories"===t?r+" - "+c:this.getAccountDisplayName(e,t);this.setState({categoryTransactions:n,categoryType:s,categoryTotal:a})}},{key:"getCategoryTransactions",value:function(e){var t=[];t="Other"===e?this.props.transactions.filter(function(e){null===e.category||"Bank Fees"===e.category[0]||"Cash Advance"===e.category[0]||e.category[0]}):this.props.transactions.filter(function(t){return null!==t.category&&t.category[0]===e});var n=0;t.forEach(function(e){n+=e.amount}),n=Object(w.a)(n),t.sort(function(e,t){return new Date(e.date.slice(0,4),e.date.slice(5,7)-1,e.date.slice(8,10))-new Date(t.date.slice(0,4),t.date.slice(5,7)-1,t.date.slice(8,10))}),this.setState({categoryTransactions:t,categoryType:e,categoryTotal:n})}},{key:"getDate",value:function(e,t){var n,a,o;this.setState((n={},a=t,o=e.target.value,a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,n))}},{key:"getAccountDisplayName",value:function(e,t){var n=this.state.displayNames;return void 0===n?t:n.get(e)||t}},{key:"searchByDate",value:function(){var e=R(regeneratorRuntime.mark(function e(t){var n,a,c,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new Date(this.state.yearOne,this.state.monthOne-1,this.state.dayOne),a=new Date(this.state.yearTwo,this.state.monthTwo-1,this.state.dayTwo),c=[],r=0,e.prev=5,e.next=8,o()({method:"GET",url:"/plaid-api/transactions",data:{startDate:n,endDate:a}});case 8:e.sent.forEach(function(e){e.transactions.forEach(function(e){c.push(e),r+=e.amount})}),r=Object(w.a)(r),c.sort(function(e,t){return new Date(e.date.slice(0,4),e.date.slice(5,7)-1,e.date.slice(8,10))-new Date(t.date.slice(0,4),t.date.slice(5,7)-1,t.date.slice(8,10))}),this.setState({categoryTransactions:c,categoryType:"".concat(this.state.months[n.getMonth()]," ").concat(n.getDate()," - ").concat(this.state.months[a.getMonth()]," ").concat(a.getDate()),categoryTotal:r}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.error(e.t0);case 18:case"end":return e.stop()}},e,this,[[5,15]])}));return function(t){return e.apply(this,arguments)}}()},{key:"searchByKeyword",value:function(){var e=R(regeneratorRuntime.mark(function e(t){var n,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=[],a=this.state.keyWord||"all",o=a.toLowerCase(),c=0,"all"!==o){e.next=10;break}return this.getAccountTransactions("all"),e.abrupt("return");case 10:this.props.transactions.forEach(function(e){e.name.toLowerCase().includes(o)&&(c+=e.amount,n.push(e))});case 11:c=Object(w.a)(c),n.sort(function(e,t){return new Date(e.date.slice(0,4),e.date.slice(5,7)-1,e.date.slice(8,10))-new Date(t.date.slice(0,4),t.date.slice(5,7)-1,t.date.slice(8,10))}),this.setState({categoryType:Object(w.e)(a),categoryTransactions:n,categoryTotal:c});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getKeyword",value:function(e){e.preventDefault();var t=e.target.value.trim();this.setState({keyWord:t})}},{key:"openCategoryViewer",value:function(){document.querySelector(".accounts--search-options--icon-search--accts-search--accts").classList.remove("accounts--search-options--icon-search--accts-search--accts__active"),document.querySelector(".accounts--search-options--icon-search--categorical-search--categories").classList.add("accounts--search-options--icon-search--categorical-search--categories__active")}},{key:"closeCategoryViewer",value:function(){document.querySelector(".accounts--search-options--icon-search--categorical-search--categories").classList.remove("accounts--search-options--icon-search--categorical-search--categories__active")}},{key:"openAccountsViewer",value:function(){document.querySelector(".accounts--search-options--icon-search--categorical-search--categories").classList.remove("accounts--search-options--icon-search--categorical-search--categories__active"),document.querySelector(".accounts--search-options--icon-search--accts-search--accts").classList.add("accounts--search-options--icon-search--accts-search--accts__active")}},{key:"closeAccountsViewer",value:function(){document.querySelector(".accounts--search-options--icon-search--accts-search--accts").classList.remove("accounts--search-options--icon-search--accts-search--accts__active")}},{key:"render",value:function(){var e=this;this.state.categoryTotal;return r.a.createElement("div",{className:"accounts"},r.a.createElement("div",{className:"accounts--search-options"},r.a.createElement("div",{className:"accounts--search-options--keyword-search"},r.a.createElement("form",{onSubmit:this.searchByKeyword},r.a.createElement("input",{type:"text",placeholder:"Search by transaction name",value:this.state.keyWord,onChange:function(t){e.getKeyword(t)}}))),r.a.createElement("div",{className:"accounts--search-options--icon-search"},r.a.createElement("div",{className:"accounts--search-options--icon-search--categorical-search"},r.a.createElement(P.a,{className:"icon",icon:M.n,onMouseEnter:this.openCategoryViewer}),r.a.createElement("div",{className:"accounts--search-options--icon-search--categorical-search--categories",onMouseLeave:this.closeCategoryViewer},r.a.createElement("div",null,r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Food and Drink"),e.closeCategoryViewer()},icon:M.r}),"     ",r.a.createElement("p",null,"Food and Drink")," "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Travel"),e.closeCategoryViewer()},icon:M.j}),"        ",r.a.createElement("p",null,"Travel"),"         "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Shops"),e.closeCategoryViewer()},icon:M.m}),"  ",r.a.createElement("p",null,"Shops"),"          "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Recreation"),e.closeAccountsViewer()},icon:M.o}),"     ",r.a.createElement("p",null,"Recreation"),"     "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Service"),e.closeCategoryViewer()},icon:M.s}),"       ",r.a.createElement("p",null,"Service"),"        "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Community"),e.closeCategoryViewer()},icon:M.q}),"        ",r.a.createElement("p",null,"Community"),"      "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Healthcare"),e.closeCategoryViewer()},icon:M.g}),"       ",r.a.createElement("p",null,"Healthcare"),"     "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Bank Fees"),e.closeCategoryViewer()},icon:M.l}),"     ",r.a.createElement("p",null,"Bank Fees"),"      "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Cash Advance"),e.closeCategoryViewer()},icon:M.l}),"    ",r.a.createElement("p",null,"Cash Advance"),"   "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Interest"),e.closeCategoryViewer()},icon:M.i}),"     ",r.a.createElement("p",null,"Interest"),"       "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Payment"),e.closeCategoryViewer()},icon:M.h})," ",r.a.createElement("p",null,"Payment"),"        "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Tax"),e.closeCategoryViewer()},icon:M.l}),"    ",r.a.createElement("p",null,"Tax"),"            "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Transfer"),e.closeCategoryViewer()},icon:M.e}),"  ",r.a.createElement("p",null,"Transfer"),"       "),r.a.createElement("section",null," ",r.a.createElement(P.a,{className:"category-icon",onClick:function(){e.getCategoryTransactions("Other"),e.closeCategoryViewer()},icon:M.l}),"     ",r.a.createElement("p",null,"Other"),"          ")))),r.a.createElement("div",{className:"accounts--search-options--icon-search--date-search"},r.a.createElement(P.a,{className:"icon",icon:M.b})),r.a.createElement("div",{className:"accounts--search-options--icon-search--accts-search"},r.a.createElement(P.a,{className:"icon",icon:M.p,onMouseEnter:this.openAccountsViewer}),r.a.createElement("div",{className:"accounts--search-options--icon-search--accts-search--accts",onMouseLeave:this.closeAccountsViewer},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.getAccountTransactions("all"),e.closeAccountsViewer()}},"All Transactions"),this.props.accounts.map(function(t,n){return r.a.createElement("button",{key:n,onClick:function(){e.getAccountTransactions(t.account_id),e.closeAccountsViewer()}},e.getAccountDisplayName(t.account_id,t.name))})))))),r.a.createElement(D,{transactions:this.state.categoryTransactions}),r.a.createElement(A.a,{x:"hello",categoryType:this.state.categoryType,categoryTotal:this.state.categoryTotal,transactions:this.state.categoryTransactions,accounts:this.props.accounts}))}}])&&F(n.prototype,a),s&&F(n,s),t}();t.default=q}}]);
//# sourceMappingURL=7.js.map