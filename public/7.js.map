{"version":3,"sources":["webpack:///./src/Budgeteer/Settings/AccountNames/accountNames.scss","webpack:///./src/Budgeteer/Settings/settings.scss","webpack:///./src/Budgeteer/Settings/AccountNames/AccountNames.jsx","webpack:///./src/Budgeteer/Settings/AccountNames/accountNames.scss?e84d","webpack:///./src/Budgeteer/Settings/Settings.jsx","webpack:///./src/Budgeteer/Settings/settings.scss?17a6"],"names":["AccountNames","props","state","accounts","mapOfAccountNamesToDisplayNames","Map","handleChange","bind","getDisplayName","jsonToMap","map","JSON","stringify","jsonStr","parse","axios","get","names","data","setState","console","log","accountName","account","name","account_id","e","undefined","vals","document","querySelectorAll","forEach","val","displayName","value","placeholder","parentNode","querySelector","innerText","accountID","getAccountIDFromAccountName","set","post","id","target","acct","index","handleClick","Component","Settings","linkedBanks","monthlyBudget","display","message","color","updateInputValue","updateMonthlyBudget","displayMessage","localStorage","getItem","bankName","bank","i","bankIndex","result","slice","window","clear","sessionStorage","cleaar","ERROR","returnVal","updatedMonthlyBudget","trim","preventDefault","setItem","method","url","msg","setTimeout","removeAccount","rotateAccessTokens"],"mappings":"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","file":"7.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".accounts {\\n  margin-top: 30px; }\\n\\n.account-names {\\n  margin: 15px 0;\\n  height: 60px;\\n  border-radius: 5px;\\n  display: flex;\\n  align-items: center; }\\n  .account-names--name {\\n    margin: 0 30px;\\n    width: 40%; }\\n  .account-names--input {\\n    margin: 0 10px;\\n    width: 35%;\\n    padding: 10px;\\n    font-size: 18px;\\n    color: black; }\\n  .account-names--submit {\\n    position: relative;\\n    margin-bottom: 6px;\\n    padding: 10px 20px;\\n    background-color: #46926b;\\n    border-radius: 5px;\\n    font-size: 18px;\\n    color: white;\\n    cursor: pointer;\\n    transition: background-color .1s ease;\\n    box-shadow: 0 6px #357052; }\\n    .account-names--submit:hover {\\n      background-color: #418863;\\n      box-shadow: 0 6px #31654a; }\\n    .account-names--submit:active {\\n      top: 3px;\\n      box-shadow: 0 0 #357052; }\\n\\n.account-names:nth-child(2n+1) {\\n  background: #365269; }\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".settings {\\n  position: relative;\\n  margin: 0 30px; }\\n  @media all and (min-width: 801px) {\\n    .settings {\\n      margin: 0 60px; } }\\n  .settings h1 {\\n    font-size: 2em; }\\n  .settings--linked-accounts {\\n    margin: 20px auto;\\n    max-width: 1000px;\\n    width: 80%;\\n    padding: 10px;\\n    border-bottom: 2px solid white;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center; }\\n    .settings--linked-accounts h2 {\\n      margin: 5px 0; }\\n    .settings--linked-accounts button {\\n      padding: 15px 20px;\\n      background-color: #d84545;\\n      border-radius: 5px;\\n      font-size: 1em;\\n      cursor: pointer; }\\n  .settings--monthly-budget {\\n    margin-top: 60px;\\n    width: 300px; }\\n    .settings--monthly-budget label h1 {\\n      margin-bottom: 10px; }\\n    .settings--monthly-budget label input {\\n      padding: 10px;\\n      border-radius: 5px;\\n      /*width: 150px;*/\\n      /*height: 30px;*/\\n      font-size: 20px;\\n      color: black; }\\n    .settings--monthly-budget label .submit {\\n      margin-left: 5px;\\n      background: #607D8B;\\n      color: white;\\n      cursor: pointer; }\\n  .settings--rotate-tokens {\\n    margin: 60px 15px 0 0; }\\n    .settings--rotate-tokens button {\\n      margin-top: 10px;\\n      padding: 20px;\\n      background-color: #46926b;\\n      border-radius: 5px;\\n      font-size: 1em;\\n      cursor: pointer;\\n      transition: background-color .3s ease; }\\n      .settings--rotate-tokens button:hover {\\n        background-color: #357052; }\\n\", \"\"]);\n\n","/*eslint no-undefined: 0*/\nimport React, { Component } from \"react\";\nimport axios from 'axios';\n\nimport './accountNames.scss';\n\nclass AccountNames extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\taccounts: [],\n\t\t\tmapOfAccountNamesToDisplayNames: new Map()\n\t\t}\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.getDisplayName = this.getDisplayName.bind(this);\n\t\tthis.jsonToMap = this.jsonToMap.bind(this);\n\t}\n\n\tmapToJson(map) {\n\t\treturn JSON.stringify([...map]);\n\t}\n\n\tjsonToMap(jsonStr) {\n\t\treturn new Map(JSON.parse(jsonStr));\n\t}\n\n\tasync componentDidMount() {\n\t\ttry {\n\t\t\tlet names = await axios.get('/user-info/display-names');\n\t\t\tnames = names.data;\n\n\t\t\tconst map = this.jsonToMap(names);\n\t\t\tthis.setState({\n\t\t\t\tmapOfAccountNamesToDisplayNames: map\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.log(\"Error: \");\n\t\t\tconsole.log(err);\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state) {\n\t\treturn {\n\t\t\taccounts: props.accounts\n\t\t}\n\t}\n\n\tgetAccountIDFromAccountName(accountName) {\n\t\tfor (const account of this.props.accounts) {\n\t\t\tif (account.name === accountName) return account.account_id;\n\t\t}\n\t}\n\n\tgetDisplayName(account_id) {\n\t\treturn this.state.mapOfAccountNamesToDisplayNames.get(account_id) || \"\";\n\t}\n\n\thandleClick(e) {\n\t\tconst map = this.state.mapOfAccountNamesToDisplayNames !== undefined ? this.state.mapOfAccountNamesToDisplayNames : new Map();\n\t\tconst vals = document.querySelectorAll(\".account-names--input\");\n\n\t\tvals.forEach(val => {\n\t\t\tconst displayName = val.value || val.placeholder;\n\n\t\t\t// Skip the entry if there is no value\n\t\t\tif (displayName === \"\" || displayName === null || displayName === undefined) return;\n\n\t\t\tconst accountName = val.parentNode.querySelector(\".account-names--name\").innerText;\n\t\t\tconst accountID = this.getAccountIDFromAccountName(accountName);\n\t\t\tmap.set(accountID, displayName);\n\t\t});\n\n\t\taxios.post('/user-info/display-names', {\n\t\t\tdata: {\n\t\t\t\tmap: JSON.stringify(map)\n\t\t\t}\n\t\t});\n\t}\n\n\thandleChange(e, id) {\n\t\tthis.setState({\n\t\t\t[id]: e.target.value\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"accounts\">\n\t\t\t\t<h1>Account Display Names</h1>\n\t\t\t\t{this.state.accounts.map((acct, index) =>\n\t\t\t\t\t<div className=\"account-names\" key={index}>\n\t\t\t\t\t\t<h3 className=\"account-names--name\">{acct.name}</h3>\n\t\t\t\t\t\t<h3 className=\"account-names--display\">Display Name: </h3>\n\t\t\t\t\t\t<input className=\"account-names--input\" id={index} placeholder={this.getDisplayName(acct.account_id)} onChange={(e) => this.handleChange(e, acct.account_id)} type='text'/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<button onClick={(e) => this.handleClick(e)} className=\"account-names--submit\">Update</button>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default AccountNames;\n","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js!../../../../node_modules/sass-loader/lib/loader.js!./accountNames.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js!../../../../node_modules/sass-loader/lib/loader.js!./accountNames.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js!../../../../node_modules/sass-loader/lib/loader.js!./accountNames.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/* eslint no-undefined: \"off\" */\n\nimport React, { Component } from \"react\";\nimport AccountNames from \"./AccountNames/AccountNames.jsx\";\nimport ErrorMessage from \"../ErrorMessage/ErrorMessage.jsx\";\nimport axios from 'axios';\n\nimport './settings.scss';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n\tfaTimes\n} from '@fortawesome/free-solid-svg-icons'\n\nclass Settings extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlinkedBanks: [],\n\t\t\tmonthlyBudget: \"Loading...\",\n\t\t\tdisplay: false,\n\t\t\tmessage: \"\",\n\t\t\tcolor: \"green\"\n\t\t}\n\n\t\tthis.updateInputValue = this.updateInputValue.bind(this);\n\t\tthis.updateMonthlyBudget = this.updateMonthlyBudget.bind(this);\n\t\tthis.displayMessage = this.displayMessage.bind(this);\n\t}\n\n\tasync componentDidMount() {\n\t\t// Try looking in local storage first for the monthlyBudget\n\t\tlet monthlyBudget = localStorage.getItem(\"monthlyBudget\");\n\t\tif (!monthlyBudget) {\n\t\t\t// If that fails grab it from the server\n\t\t\tmonthlyBudget = await axios.get('/user-info/monthly-budget');\n\t\t\tmonthlyBudget = monthlyBudget.data.monthlyBudget;\n\t\t}\n\n\t\tlet linkedBanks = await axios.get('/plaid-api/linked-accounts');\n\t\tthis.setState({\n\t\t\tlinkedBanks: linkedBanks.data.accounts,\n\t\t\tmonthlyBudget: monthlyBudget\n\t\t});\n\t}\n\n\tasync removeAccount(e) {\n\t\tlet bankName = e.target.parentNode.querySelector('h2').innerText;\n\n\t\tlet index;\n\t\tthis.state.linkedBanks.map( (bank, i) => {\n\t\t\tif (bank === bankName) {\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t});\n\n\t\tlet result;\n\t\ttry {\n\t\t\tresult = await axios.post('/plaid-api/remove-account', {\n\t\t\t\tdata: {\n\t\t\t\t\tbankIndex: index,\n\t\t\t\t\tbankName: this.state.linkedBanks[index]\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.setState({\n\t\t\t\tlinkedBanks: [...this.state.linkedBanks.slice(0, index), ...this.state.linkedBanks.slice(index + 1)]\n\t\t\t})\n\t\t\twindow.localStorage.clear();\n\t\t\twindow.sessionStorage.cleaar();\n\t\t} catch(err) {\n\t\t\tconsole.log(\"DISPLAY ERROR MESSAGE\");\n\t\t\tconsole.log(err.ERROR);\n\t\t}\n\t}\n\n\tasync rotateAccessTokens() {\n\t\tlet returnVal = await axios.post('/plaid-api/rotate-access-tokens');\n\n\t\t//const alertMessage = document.querySelector('.app-error');\n\t\t//alertMessage.innerText = returnVal.data.result;\n\t\t//alertMessage.classList.add('app-error__display');\n\n\t\t//setTimeout(() => {\n\t\t\t//alertMessage.classList.remove('app-error__display')\n\t\t//}, 4000)\n\t}\n\n\tupdateInputValue(e) {\n\t\tconst updatedMonthlyBudget = e.target.value.trim();\n\t\t// Update state value\n\t\tthis.setState({\n\t\t\tmonthlyBudget: updatedMonthlyBudget\n\t\t});\n\t}\n\n\tupdateMonthlyBudget(e) {\n\t\te.preventDefault();\n\n\t\tconst updatedMonthlyBudget = document.querySelector(\"#monthly-budget\").value;\n\n\t\t// Update local storage value\n\t\tlocalStorage.setItem(\"monthlyBudget\", updatedMonthlyBudget);\n\n\t\t// Update Session/DB value\n\t\taxios({\n\t\t\tmethod: 'POST',\n\t\t\turl: '/user-info/monthly-budget',\n\t\t\tdata: {\n\t\t\t\tmonthlyBudget: updatedMonthlyBudget\n\t\t\t}\n\t\t});\n\n\t\t// Display a success message optimistically\n\t\tthis.displayMessage(\"Your monthly budget was updated\");\n\t}\n\n\tdisplayMessage(msg) {\n\t\tthis.setState({\n\t\t\tmessage: msg,\n\t\t\tdisplay: true\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({\n\t\t\t\tdisplay: false,\n\t\t\t});\n\t\t}, 5500);\n\t}\n\n\trender() {\n\n\t\treturn (\n\n\t\t\t<section className='settings'>\n\n\t\t\t\t<ErrorMessage\n\t\t\t\t\tdisplay={this.state.display}\n\t\t\t\t\ttext={this.state.message}\n\t\t\t\t\tcolor={this.state.color}\n\t\t\t\t/>\n\n\t\t\t\t<h1>Linked Banks</h1>\n\t\t\t\t{this.state.linkedBanks.map( (bank, index) =>\n\t\t\t\t\t<div key={index} className='settings--linked-accounts'>\n\t\t\t\t\t\t<h2>{bank}</h2>\n\t\t\t\t\t\t<button onClick={(e) => this.removeAccount(e)}>Remove</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<form className='settings--monthly-budget' onSubmit={this.updateMonthlyBudget}>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<h1>Your Monthly Budget</h1>\n\t\t\t\t\t\t<input id=\"monthly-budget\" placeholder=\"Loading...\" type=\"number\" name=\"budget\" value={this.state.monthlyBudget} onChange={this.updateInputValue}/>\n\t\t\t\t\t\t<input className='submit' type='submit' value='Update' onClick={this.updateMonthlyBudget}/>\n\t\t\t\t\t</label>\n\t\t\t\t</form>\n\n\t\t\t\t<AccountNames accounts={this.props.accounts}/>\n\n\t\t\t\t<div className=\"settings--rotate-tokens\">\n\t\t\t\t\t<p>If you think your account has been compromised, click the button below to delete and generate new access tokens</p>\n\t\t\t\t\t<button onClick={this.rotateAccessTokens}>Rotate Access Tokens</button>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t}\n}\n\nexport default Settings;\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/sass-loader/lib/loader.js!./settings.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/sass-loader/lib/loader.js!./settings.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js!../../../node_modules/sass-loader/lib/loader.js!./settings.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}